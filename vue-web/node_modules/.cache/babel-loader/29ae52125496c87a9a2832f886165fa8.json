{"ast":null,"code":"import { defineComponent, reactive } from 'vue';\nexport default defineComponent({\n  setup() {\n    const formState = reactive({\n      username: '',\n      title: '',\n      ID: '',\n      ddl: '',\n      choice: undefined\n    });\n\n    const onFinish = values => {\n      console.log('Success:', values);\n    };\n\n    const onFinishFailed = errorInfo => {\n      console.log('Failed:', errorInfo);\n    };\n\n    return {\n      formState,\n      onFinish,\n      onFinishFailed\n    };\n  },\n\n  methods: {\n    nextStep() {\n      this.$emit('nextStep');\n    },\n\n    prevStep() {\n      this.$emit('prevStep');\n    },\n\n    get() {\n      this.$http.post('http://192.168.5.42:8888/manager/get_info', {\n        name: sessionStorage.getItem('user'),\n        password: sessionStorage.getItem('pass')\n      }).then(res => {\n        console.log(\"返回数据\", res);\n        console.log(res.data.title);\n        this.formState.title = res.data.title, this.ID = res.data.ID, this.ddl = res.data.ddl, this.choice = res.data.choice;\n        console.log(this.choice, typeof this.choice);\n      });\n    }\n\n  },\n\n  mounted() {\n    this.get();\n  }\n\n});","map":{"version":3,"mappings":"AAwIA,SAASA,eAAT,EAA0BC,QAA1B,QAA0C,KAA1C;AACA,eAAeD,eAAe,CAAC;EAC7BE,KAAK,GAAG;IACN,MAAMC,SAAQ,GAAIF,QAAQ,CAAC;MACzBG,QAAQ,EAAE,EADe;MAEzBC,KAAK,EAAC,EAFmB;MAGzBC,EAAE,EAAC,EAHsB;MAIzBC,GAAG,EAAC,EAJqB;MAKzBC,MAAM,EAACC;IALkB,CAAD,CAA1B;;IAQA,MAAMC,QAAO,GAAIC,MAAK,IAAK;MACzBC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,MAAxB;IACD,CAFD;;IAIA,MAAMG,cAAa,GAAIC,SAAQ,IAAK;MAClCH,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBE,SAAvB;IACD,CAFD;;IAIA,OAAO;MACLZ,SADK;MAELO,QAFK;MAGLI;IAHK,CAAP;EAKD,CAvB4B;;EAwB7BE,OAAO,EAAC;IACNC,QAAQ,GAAE;MACR,KAAKC,KAAL,CAAW,UAAX;IACD,CAHK;;IAINC,QAAQ,GAAE;MACR,KAAKD,KAAL,CAAW,UAAX;IACD,CANK;;IAONE,GAAG,GAAE;MACH,KAAKC,KAAL,CAAWC,IAAX,CAAgB,2CAAhB,EAA4D;QAC1DC,IAAI,EAACC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CADqD;QAE1DC,QAAQ,EAACF,cAAc,CAACC,OAAf,CAAuB,MAAvB;MAFiD,CAA5D,EAGGE,IAHH,CAGSC,GAAD,IAAS;QACfhB,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBe,GAAnB;QACAhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACC,IAAJ,CAASxB,KAArB;QACA,KAAKF,SAAL,CAAeE,KAAf,GAAuBuB,GAAG,CAACC,IAAJ,CAASxB,KAAhC,EACA,KAAKC,EAAL,GAAUsB,GAAG,CAACC,IAAJ,CAASvB,EADnB,EAEA,KAAKC,GAAL,GAAWqB,GAAG,CAACC,IAAJ,CAAStB,GAFpB,EAGA,KAAKC,MAAL,GAAcoB,GAAG,CAACC,IAAJ,CAASrB,MAHvB;QAIAI,OAAO,CAACC,GAAR,CAAY,KAAKL,MAAjB,EAAwB,OAAO,KAAKA,MAApC;MACD,CAXD;IAYF;;EApBM,CAxBqB;;EA8C7BsB,OAAO,GAAE;IACP,KAAKV,GAAL;EACH;;AAhD8B,CAAD,CAA9B","names":["defineComponent","reactive","setup","formState","username","title","ID","ddl","choice","undefined","onFinish","values","console","log","onFinishFailed","errorInfo","methods","nextStep","$emit","prevStep","get","$http","post","name","sessionStorage","getItem","password","then","res","data","mounted"],"sourceRoot":"","sources":["/home/ubuntu/voting/vue-web/src/views/InitVote/avec/initAvec/StepTwo.vue"],"sourcesContent":["<!-- <template>\r\n<div style=\"margin: 40px auto 0;\">\r\n  <a-form>\r\n    <a-range-picker\r\n      v-model:value=\"value\"\r\n      :disabled-date=\"disabledDate\"\r\n      :disabled-time=\"disabledRangeTime\"\r\n      :show-time=\"{\r\n        hideDisabledOptions: true,\r\n        defaultValue: [dayjs('00:00:00', 'HH:mm:ss'), dayjs('11:59:59', 'HH:mm:ss')],\r\n      }\"\r\n      value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n    />\r\n    </a-form>\r\n      <a-button type=\"primary\" html-type=\"submit\" @click=\"nextStep\">下一步</a-button>\r\n      <a-button type=\"primary\" @click=\"prevStep\">上一步</a-button>\r\n   </div>\r\n  \r\n</template>\r\n<script>\r\nimport dayjs from 'dayjs';\r\nimport emitter from '@/utils/bus';\r\nimport { defineComponent, ref } from 'vue';\r\nexport default defineComponent({\r\n  setup() {\r\n    const range = (start, end) => {\r\n      const result = [];\r\n\r\n      for (let i = start; i < end; i++) {\r\n        result.push(i);\r\n      }\r\n\r\n      return result;\r\n    };\r\n\r\n    const disabledDate = current => {\r\n      // Can not select days before today and today\r\n      return current && current < dayjs().endOf('day');\r\n    };\r\n\r\n    const disabledRangeTime = (_, type) => {\r\n      if (type === 'start') {\r\n        return {\r\n          disabledHours: () => range(0, 60).splice(4, 20),\r\n          disabledMinutes: () => range(30, 60),\r\n          disabledSeconds: () => [55, 56],\r\n        };\r\n      }\r\n\r\n      return {\r\n        disabledHours: () => range(0, 60).splice(20, 4),\r\n        disabledMinutes: () => range(0, 31),\r\n        disabledSeconds: () => [55, 56],\r\n      };\r\n    };\r\n\r\n    return {\r\n      dayjs,\r\n      value: ref(dayjs()),\r\n      disabledDate,\r\n      disabledRangeTime,\r\n    };\r\n  },\r\n  created(){\r\n    emitter.on(\"Res\",msg=>{\r\n      console.log(\"这个是传过来的数据\",msg)\r\n    });\r\n  },\r\n   methods:{\r\n    nextStep(){\r\n      // if(this.formState.title !== '' && this.formState.title.length == this.formState.title.split(\" \").join(\"\").length){\r\n      //   console.log(this.formState.ID)\r\n      //   this.$emit('nextStep')\r\n      // }\r\n      // moment,\r\n      // var currentPicker = moment(this.value4).format('YYYY-MM-DD HH:mm:ss')\r\n        // console.log(currentPicker)\r\n        console.log(dayjs())\r\n        console.log(this.value[1])\r\n      // this.$emit('nextStep')\r\n    },\r\n    getCurrentTime() {\r\n        //获取当前时间并打印\r\n        var _this = this;\r\n    let yy = new Date().getFullYear();\r\n    let mm = new Date().getMonth()+1;\r\n    let dd = new Date().getDate();\r\n    let hh = new Date().getHours();\r\n    let mf = new Date().getMinutes()<10 ? '0'+new Date().getMinutes() : new Date().getMinutes();\r\n    let ss = new Date().getSeconds()<10 ? '0'+new Date().getSeconds() : new Date().getSeconds();\r\n    _this.gettime = yy+'/'+mm+'/'+dd+' '+hh+':'+mf+':'+ss;\r\n    console.log(_this.gettime)  \r\n    },\r\n    prevStep(){\r\n      this.$emit('prevStep')\r\n    }\r\n  }\r\n\r\n});\r\n</script> -->\r\n<template>\r\n<div style=\"margin: 40px auto 0;\">\r\n \r\n    <!-- <a-form-item\r\n      label=\"Username\"\r\n      name=\"username\"\r\n      :rules=\"[{ required: true, message: 'Please input your username!' }]\"\r\n    >\r\n      <a-input v-model:value=\"formState.username\" />\r\n    </a-form-item> -->\r\n    {{formState.title}}\r\n\r\n    <div>\r\n {{ID}}\r\n    </div>\r\n\r\n    <div>\r\n      {{ddl}}\r\n    </div>\r\n    <div>\r\n      {{choice}}\r\n    </div>\r\n\r\n  <div v-for=\"todo in choice\" :key=\"todo.id\">\r\n  {{ todo }}\r\n  </div>\r\n\r\n\r\n\r\n      <a-button type=\"primary\" @click=\"get\" html-type=\"submit\">提交</a-button>\r\n      <a-button type=\"primary\" @click=\"prevStep\">上一步</a-button>\r\n   \r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport { defineComponent, reactive } from 'vue';\r\nexport default defineComponent({\r\n  setup() {\r\n    const formState = reactive({\r\n      username: '',\r\n      title:'',\r\n      ID:'',\r\n      ddl:'',\r\n      choice:undefined\r\n    });\r\n\r\n    const onFinish = values => {\r\n      console.log('Success:', values);\r\n    };\r\n\r\n    const onFinishFailed = errorInfo => {\r\n      console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return {\r\n      formState,\r\n      onFinish,\r\n      onFinishFailed,\r\n    };\r\n  },\r\n  methods:{\r\n    nextStep(){\r\n      this.$emit('nextStep')\r\n    },\r\n    prevStep(){\r\n      this.$emit('prevStep')\r\n    },\r\n    get(){\r\n      this.$http.post('http://192.168.5.42:8888/manager/get_info',{\r\n        name:sessionStorage.getItem('user'),\r\n        password:sessionStorage.getItem('pass'),\r\n      }).then((res) => {\r\n        console.log(\"返回数据\",res);\r\n        console.log(res.data.title)\r\n        this.formState.title = res.data.title,\r\n        this.ID = res.data.ID,\r\n        this.ddl = res.data.ddl,\r\n        this.choice = res.data.choice\r\n        console.log(this.choice,typeof(this.choice))\r\n      })\r\n    }\r\n  },\r\n  mounted(){\r\n    this.get();\r\n},\r\n\r\n});\r\n</script>"]},"metadata":{},"sourceType":"module"}