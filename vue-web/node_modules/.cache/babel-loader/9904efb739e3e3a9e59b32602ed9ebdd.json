{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, mergeProps as _mergeProps } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Add field \");\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Submit\");\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Reset\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_input = _resolveComponent(\"a-input\");\n\n  const _component_a_form_item = _resolveComponent(\"a-form-item\");\n\n  const _component_MinusCircleOutlined = _resolveComponent(\"MinusCircleOutlined\");\n\n  const _component_PlusOutlined = _resolveComponent(\"PlusOutlined\");\n\n  const _component_a_button = _resolveComponent(\"a-button\");\n\n  const _component_a_form = _resolveComponent(\"a-form\");\n\n  return _openBlock(), _createBlock(_component_a_form, _mergeProps({\n    ref: \"formRef\",\n    name: \"dynamic_form_item\",\n    model: _ctx.dynamicValidateForm\n  }, _ctx.formItemLayoutWithOutLabel), {\n    default: _withCtx(() => [_createVNode(_component_a_form_item, {\n      rules: {\n        required: true,\n        message: 'domain can not be null',\n        trigger: 'change'\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_input, {\n        value: _ctx.domain.value,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = $event => _ctx.domain.value = $event),\n        placeholder: \"please input domain\",\n        style: {\n          \"width\": \"60%\",\n          \"margin-right\": \"8px\"\n        }\n      }, null, 8\n      /* PROPS */\n      , [\"value\"])]),\n      _: 1\n      /* STABLE */\n\n    }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.dynamicValidateForm.domains, (domain, index) => {\n      return _openBlock(), _createBlock(_component_a_form_item, {\n        key: domain.key,\n        name: ['domains', index, 'value'],\n        rules: {\n          required: true,\n          message: 'domain can not be null',\n          trigger: 'change'\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_a_input, {\n          value: domain.value,\n          \"onUpdate:value\": $event => domain.value = $event,\n          placeholder: \"please input domain\",\n          style: {\n            \"width\": \"60%\",\n            \"margin-right\": \"8px\"\n          }\n        }, null, 8\n        /* PROPS */\n        , [\"value\", \"onUpdate:value\"]), _ctx.dynamicValidateForm.domains.length > 0 ? (_openBlock(), _createBlock(_component_MinusCircleOutlined, {\n          key: 0,\n          class: \"dynamic-delete-button\",\n          disabled: _ctx.dynamicValidateForm.domains.length === 1,\n          onClick: $event => _ctx.removeDomain(domain)\n        }, null, 8\n        /* PROPS */\n        , [\"disabled\", \"onClick\"])) : _createCommentVNode(\"v-if\", true)]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"name\"]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    )), _createVNode(_component_a_form_item, _normalizeProps(_guardReactiveProps(_ctx.formItemLayoutWithOutLabel)), {\n      default: _withCtx(() => [_createVNode(_component_a_button, {\n        type: \"dashed\",\n        style: {\n          \"width\": \"60%\"\n        },\n        onClick: _ctx.addDomain\n      }, {\n        default: _withCtx(() => [_createVNode(_component_PlusOutlined), _hoisted_1]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"onClick\"])]),\n      _: 1\n      /* STABLE */\n\n    }, 16\n    /* FULL_PROPS */\n    ), _createVNode(_component_a_form_item, _normalizeProps(_guardReactiveProps(_ctx.formItemLayoutWithOutLabel)), {\n      default: _withCtx(() => [_createVNode(_component_a_button, {\n        type: \"primary\",\n        \"html-type\": \"submit\",\n        onClick: _ctx.submitForm\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"onClick\"]), _createVNode(_component_a_button, {\n        style: {\n          \"margin-left\": \"10px\"\n        },\n        onClick: _ctx.resetForm\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"onClick\"])]),\n      _: 1\n      /* STABLE */\n\n    }, 16\n    /* FULL_PROPS */\n    )]),\n    _: 1\n    /* STABLE */\n\n  }, 16\n  /* FULL_PROPS */\n  , [\"model\"]);\n}","map":{"version":3,"mappings":";;iDAyIwB;;iDAO8C;;iDACT;;;;;;;;;;;;;;;uBAtD3DA,aAwDSC,iBAxDT,cAwDS;IAvDPC,GAAG,EAAC,SAuDG;IAtDPC,IAAI,EAAC,mBAsDE;IArDNC,KAAK,EAAEC;EAqDD,CAxDT,EAIUA,+BAJV,GAIoC;sBAGnC,MAYe,CAZfC,aAYeC,sBAZf,EAYe;MAXXC,KAAK,EAAE;sBAAA;yCAAA;;MAAA;IAWI,CAZf,EAKI;wBAED,MAIE,CAJFF,aAIEG,kBAJF,EAIE;QAHQC,KAAK,EAAEL,YAAOK,KAGtB;8DAHeL,YAAOK,QAAKC,OAG3B;QAFAC,WAAW,EAAC,qBAEZ;QADAC,KAAqC,EAArC;UAAA;UAAA;QAAA;MACA,CAJF;;MAAA,YAIE,EAND;;;;IAAA,CALJ,CAYe,qBAEdC,oBAqBcC,SArBd,EAqBc,IArBd,EAqBcC,YApBcX,yBAAoBY,OAoBlC,EApByC,CAA7CC,MAA6C,EAArCC,KAAqC,KAAhC;2BADvBnB,aAqBcO,sBArBd,EAqBc;QAnBXa,GAAG,EAAEF,MAAM,CAACE,GAmBD;QAlBXjB,IAAI,cAAcgB,KAAd,EAAmB,OAAnB,CAkBO;QAjBXX,KAAK,EAAE;wBAAA;2CAAA;;QAAA;MAiBI,CArBd;0BAUE,MAIE,CAJFF,aAIEG,kBAJF,EAIE;UAHQC,KAAK,EAAEQ,MAAM,CAACR,KAGtB;sCAHeQ,MAAM,CAACR,QAAKC,MAG3B;UAFAC,WAAW,EAAC,qBAEZ;UADAC,KAAqC,EAArC;YAAA;YAAA;UAAA;QACA,CAJF;;QAAA,8BAIE,EAEMR,yBAAoBY,OAApB,CAA4BI,MAA5B,GAAkC,mBAD1CrB,aAKEsB,8BALF,EAKE;gBAAA;UAHAC,KAAK,EAAC,uBAGN;UAFCC,QAAQ,EAAEnB,yBAAoBY,OAApB,CAA4BI,MAA5B,KAAkC,CAE7C;UADCI,OAAK,YAAEpB,kBAAaa,MAAb;QACR,CALF;;QAAA,+DADE;;;;OAdJ;;MAAA;KAqBc,CArBd;;IAAA,CAFc,GAyBdZ,aAKcC,sBALd,EAKcmB,oCALOrB,+BAKP,EALd,EAA+C;wBAC7C,MAGW,CAHXC,aAGWqB,mBAHX,EAGW;QAHDC,IAAI,EAAC,QAGJ;QAHaf,KAAkB,EAAlB;UAAA;QAAA,CAGb;QAHiCY,OAAK,EAAEpB;MAGxC,CAHX;0BACE,MAAgB,CAAhBC,aAAgBuB,uBAAhB,CAAgB;;;;OADlB;;MAAA,cAGW,EAJkC;;;;IAAA,CAA/C;;IAAA,CAzBc,EAiCdvB,aAGcC,sBAHd,EAGcmB,oCAHOrB,+BAGP,EAHd,EAA+C;wBAC7C,MAAiF,CAAjFC,aAAiFqB,mBAAjF,EAAiF;QAAvEC,IAAI,EAAC,SAAkE;QAAxD,aAAU,QAA8C;QAApCH,OAAK,EAAEpB;MAA6B,CAAjF;0BAAgE,MAAM;;;;OAAtE;;MAAA,cAAiF,EACjFC,aAAuEqB,mBAAvE,EAAuE;QAA7Dd,KAAyB,EAAzB;UAAA;QAAA,CAA6D;QAAlCY,OAAK,EAAEpB;MAA2B,CAAvE;0BAAuD,MAAK;;;;OAA5D;;MAAA,cADiF,EADpC;;;;IAAA,CAA/C;;IAAA,CAjCc,EAfoB;;;;EAAA,CAJpC;;EAAA","names":["_createBlock","_component_a_form","ref","name","model","_ctx","_createVNode","_component_a_form_item","rules","_component_a_input","value","$event","placeholder","style","_createElementBlock","_Fragment","_renderList","domains","domain","index","key","length","_component_MinusCircleOutlined","class","disabled","onClick","_normalizeProps","_component_a_button","type","_component_PlusOutlined"],"sourceRoot":"","sources":["/home/ubuntu/voting/vue-web/src/views/InitVote/avec/initAvec/StepTwo.vue"],"sourcesContent":["<!-- <template>\r\n<div style=\"margin: 40px auto 0;\">\r\n  <a-form>\r\n    <a-range-picker\r\n      v-model:value=\"value\"\r\n      :disabled-date=\"disabledDate\"\r\n      :disabled-time=\"disabledRangeTime\"\r\n      :show-time=\"{\r\n        hideDisabledOptions: true,\r\n        defaultValue: [dayjs('00:00:00', 'HH:mm:ss'), dayjs('11:59:59', 'HH:mm:ss')],\r\n      }\"\r\n      value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n    />\r\n    </a-form>\r\n      <a-button type=\"primary\" html-type=\"submit\" @click=\"nextStep\">下一步</a-button>\r\n   </div>\r\n  \r\n</template>\r\n<script>\r\nimport dayjs from 'dayjs';\r\nimport { defineComponent, ref } from 'vue';\r\nexport default defineComponent({\r\n  setup() {\r\n    const range = (start, end) => {\r\n      const result = [];\r\n\r\n      for (let i = start; i < end; i++) {\r\n        result.push(i);\r\n      }\r\n\r\n      return result;\r\n    };\r\n\r\n    const disabledDate = current => {\r\n      // Can not select days before today and today\r\n      return current && current < dayjs().endOf('day');\r\n    };\r\n\r\n    const disabledRangeTime = (_, type) => {\r\n      if (type === 'start') {\r\n        return {\r\n          disabledHours: () => range(0, 60).splice(4, 20),\r\n          disabledMinutes: () => range(30, 60),\r\n          disabledSeconds: () => [55, 56],\r\n        };\r\n      }\r\n\r\n      return {\r\n        disabledHours: () => range(0, 60).splice(20, 4),\r\n        disabledMinutes: () => range(0, 31),\r\n        disabledSeconds: () => [55, 56],\r\n      };\r\n    };\r\n\r\n    return {\r\n      dayjs,\r\n      value: ref(dayjs()),\r\n      disabledDate,\r\n      disabledRangeTime,\r\n    };\r\n  },\r\n   methods:{\r\n    nextStep(){\r\n      // if(this.formState.title !== '' && this.formState.title.length == this.formState.title.split(\" \").join(\"\").length){\r\n      //   console.log(this.formState.ID)\r\n      //   this.$emit('nextStep')\r\n      // }\r\n      // moment,\r\n      // var currentPicker = moment(this.value4).format('YYYY-MM-DD HH:mm:ss')\r\n        // console.log(currentPicker)\r\n        console.log(dayjs())\r\n        console.log(this.value[1])\r\n      // this.$emit('nextStep')\r\n    },\r\n    getCurrentTime() {\r\n        //获取当前时间并打印\r\n        var _this = this;\r\n    let yy = new Date().getFullYear();\r\n    let mm = new Date().getMonth()+1;\r\n    let dd = new Date().getDate();\r\n    let hh = new Date().getHours();\r\n    let mf = new Date().getMinutes()<10 ? '0'+new Date().getMinutes() : new Date().getMinutes();\r\n    let ss = new Date().getSeconds()<10 ? '0'+new Date().getSeconds() : new Date().getSeconds();\r\n    _this.gettime = yy+'/'+mm+'/'+dd+' '+hh+':'+mf+':'+ss;\r\n    console.log(_this.gettime)  \r\n    }\r\n  }\r\n\r\n});\r\n</script> -->\r\n<template>\r\n  <a-form\r\n    ref=\"formRef\"\r\n    name=\"dynamic_form_item\"\r\n    :model=\"dynamicValidateForm\"\r\n    v-bind=\"formItemLayoutWithOutLabel\"\r\n  >\r\n\r\n   <a-form-item\r\n      :rules=\"{\r\n        required: true,\r\n        message: 'domain can not be null',\r\n        trigger: 'change',\r\n      }\"\r\n    >\r\n      <a-input\r\n        v-model:value=\"domain.value\"\r\n        placeholder=\"please input domain\"\r\n        style=\"width: 60%; margin-right: 8px\"\r\n      />\r\n    </a-form-item>\r\n\r\n    <a-form-item\r\n      v-for=\"(domain, index) in dynamicValidateForm.domains\"\r\n      :key=\"domain.key\"\r\n      :name=\"['domains', index, 'value']\"\r\n      :rules=\"{\r\n        required: true,\r\n        message: 'domain can not be null',\r\n        trigger: 'change',\r\n      }\"\r\n    >\r\n      <a-input\r\n        v-model:value=\"domain.value\"\r\n        placeholder=\"please input domain\"\r\n        style=\"width: 60%; margin-right: 8px\"\r\n      />\r\n      <MinusCircleOutlined\r\n        v-if=\"dynamicValidateForm.domains.length > 0\"\r\n        class=\"dynamic-delete-button\"\r\n        :disabled=\"dynamicValidateForm.domains.length === 1\"\r\n        @click=\"removeDomain(domain)\"\r\n      />\r\n    </a-form-item>\r\n\r\n    <a-form-item v-bind=\"formItemLayoutWithOutLabel\">\r\n      <a-button type=\"dashed\" style=\"width: 60%\" @click=\"addDomain\">\r\n        <PlusOutlined />\r\n        Add field\r\n      </a-button>\r\n    </a-form-item>\r\n\r\n\r\n    <a-form-item v-bind=\"formItemLayoutWithOutLabel\">\r\n      <a-button type=\"primary\" html-type=\"submit\" @click=\"submitForm\">Submit</a-button>\r\n      <a-button style=\"margin-left: 10px\" @click=\"resetForm\">Reset</a-button>\r\n    </a-form-item>\r\n  </a-form>\r\n</template>\r\n<script>\r\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons-vue';\r\nimport { defineComponent, reactive, ref } from 'vue';\r\nexport default defineComponent({\r\n  components: {\r\n    MinusCircleOutlined,\r\n    PlusOutlined,\r\n  },\r\n\r\n  setup() {\r\n    const formRef = ref();\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: {\r\n          span: 24,\r\n        },\r\n        sm: {\r\n          span: 4,\r\n        },\r\n      },\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n        },\r\n        sm: {\r\n          span: 20,\r\n        },\r\n      },\r\n    };\r\n    const formItemLayoutWithOutLabel = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 20,\r\n          offset: 4,\r\n        },\r\n      },\r\n    };\r\n    const dynamicValidateForm = reactive({\r\n      domains: [],\r\n    });\r\n\r\n    const submitForm = () => {\r\n      formRef.value.validate().then(() => {\r\n        console.log('values', dynamicValidateForm.domains);\r\n      }).catch(error => {\r\n        console.log('error', error);\r\n      });\r\n    };\r\n\r\n    const resetForm = () => {\r\n      formRef.value.resetFields();\r\n    };\r\n\r\n    const removeDomain = item => {\r\n      let index = dynamicValidateForm.domains.indexOf(item);\r\n\r\n      if (index !== -1) {\r\n        dynamicValidateForm.domains.splice(index, 1);\r\n      }\r\n    };\r\n\r\n    const addDomain = () => {\r\n      dynamicValidateForm.domains.push({\r\n        value: '',\r\n        key: Date.now(),\r\n      });\r\n    };\r\n\r\n    return {\r\n      formRef,\r\n      formItemLayout,\r\n      formItemLayoutWithOutLabel,\r\n      dynamicValidateForm,\r\n      submitForm,\r\n      resetForm,\r\n      removeDomain,\r\n      addDomain,\r\n    };\r\n  },\r\n\r\n});\r\n</script>\r\n<style>\r\n.dynamic-delete-button {\r\n  cursor: pointer;\r\n  position: relative;\r\n  top: 4px;\r\n  font-size: 24px;\r\n  color: #999;\r\n  transition: all 0.3s;\r\n}\r\n.dynamic-delete-button:hover {\r\n  color: #777;\r\n}\r\n.dynamic-delete-button[disabled] {\r\n  cursor: not-allowed;\r\n  opacity: 0.5;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}