{"ast":null,"code":"import { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons-vue';\nimport { defineComponent, reactive, ref } from 'vue';\nexport default defineComponent({\n  components: {\n    MinusCircleOutlined,\n    PlusOutlined\n  },\n\n  setup() {\n    const formRef = ref();\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 4\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 20\n        }\n      }\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0\n        },\n        sm: {\n          span: 20,\n          offset: 4\n        }\n      }\n    };\n    const dynamicValidateForm = reactive({\n      domains: []\n    });\n\n    const submitForm = () => {\n      formRef.value.validate().then(() => {\n        console.log('values', dynamicValidateForm.domains);\n      }).catch(error => {\n        console.log('error', error);\n      });\n    };\n\n    const resetForm = () => {\n      formRef.value.resetFields();\n    };\n\n    const removeDomain = item => {\n      let index = dynamicValidateForm.domains.indexOf(item);\n\n      if (index !== -1) {\n        dynamicValidateForm.domains.splice(index, 1);\n      }\n    };\n\n    const addDomain = () => {\n      dynamicValidateForm.domains.push({\n        value: '',\n        key: Date.now()\n      });\n    };\n\n    return {\n      formRef,\n      formItemLayout,\n      formItemLayoutWithOutLabel,\n      dynamicValidateForm,\n      submitForm,\n      resetForm,\n      removeDomain,\n      addDomain\n    };\n  }\n\n});","map":{"version":3,"mappings":"AAsJA,SAASA,mBAAT,EAA8BC,YAA9B,QAAkD,uBAAlD;AACA,SAASC,eAAT,EAA0BC,QAA1B,EAAoCC,GAApC,QAA+C,KAA/C;AACA,eAAeF,eAAe,CAAC;EAC7BG,UAAU,EAAE;IACVL,mBADU;IAEVC;EAFU,CADiB;;EAM7BK,KAAK,GAAG;IACN,MAAMC,OAAM,GAAIH,GAAG,EAAnB;IACA,MAAMI,cAAa,GAAI;MACrBC,QAAQ,EAAE;QACRC,EAAE,EAAE;UACFC,IAAI,EAAE;QADJ,CADI;QAIRC,EAAE,EAAE;UACFD,IAAI,EAAE;QADJ;MAJI,CADW;MASrBE,UAAU,EAAE;QACVH,EAAE,EAAE;UACFC,IAAI,EAAE;QADJ,CADM;QAIVC,EAAE,EAAE;UACFD,IAAI,EAAE;QADJ;MAJM;IATS,CAAvB;IAkBA,MAAMG,0BAAyB,GAAI;MACjCD,UAAU,EAAE;QACVH,EAAE,EAAE;UACFC,IAAI,EAAE,EADJ;UAEFI,MAAM,EAAE;QAFN,CADM;QAKVH,EAAE,EAAE;UACFD,IAAI,EAAE,EADJ;UAEFI,MAAM,EAAE;QAFN;MALM;IADqB,CAAnC;IAYA,MAAMC,mBAAkB,GAAIb,QAAQ,CAAC;MACnCc,OAAO,EAAE;IAD0B,CAAD,CAApC;;IAIA,MAAMC,UAAS,GAAI,MAAM;MACvBX,OAAO,CAACY,KAAR,CAAcC,QAAd,GAAyBC,IAAzB,CAA8B,MAAM;QAClCC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBP,mBAAmB,CAACC,OAA1C;MACD,CAFD,EAEGO,KAFH,CAESC,KAAI,IAAK;QAChBH,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBE,KAArB;MACD,CAJD;IAKD,CAND;;IAQA,MAAMC,SAAQ,GAAI,MAAM;MACtBnB,OAAO,CAACY,KAAR,CAAcQ,WAAd;IACD,CAFD;;IAIA,MAAMC,YAAW,GAAIC,IAAG,IAAK;MAC3B,IAAIC,KAAI,GAAId,mBAAmB,CAACC,OAApB,CAA4Bc,OAA5B,CAAoCF,IAApC,CAAZ;;MAEA,IAAIC,KAAI,KAAM,CAAC,CAAf,EAAkB;QAChBd,mBAAmB,CAACC,OAApB,CAA4Be,MAA5B,CAAmCF,KAAnC,EAA0C,CAA1C;MACF;IACD,CAND;;IAQA,MAAMG,SAAQ,GAAI,MAAM;MACtBjB,mBAAmB,CAACC,OAApB,CAA4BiB,IAA5B,CAAiC;QAC/Bf,KAAK,EAAE,EADwB;QAE/BgB,GAAG,EAAEC,IAAI,CAACC,GAAL;MAF0B,CAAjC;IAID,CALD;;IAOA,OAAO;MACL9B,OADK;MAELC,cAFK;MAGLM,0BAHK;MAILE,mBAJK;MAKLE,UALK;MAMLQ,SANK;MAOLE,YAPK;MAQLK;IARK,CAAP;EAUD;;AA/E4B,CAAD,CAA9B","names":["MinusCircleOutlined","PlusOutlined","defineComponent","reactive","ref","components","setup","formRef","formItemLayout","labelCol","xs","span","sm","wrapperCol","formItemLayoutWithOutLabel","offset","dynamicValidateForm","domains","submitForm","value","validate","then","console","log","catch","error","resetForm","resetFields","removeDomain","item","index","indexOf","splice","addDomain","push","key","Date","now"],"sourceRoot":"","sources":["/home/ubuntu/voting/vue-web/src/views/InitVote/avec/initAvec/StepTwo.vue"],"sourcesContent":["<!-- <template>\r\n<div style=\"margin: 40px auto 0;\">\r\n  <a-form>\r\n    <a-range-picker\r\n      v-model:value=\"value\"\r\n      :disabled-date=\"disabledDate\"\r\n      :disabled-time=\"disabledRangeTime\"\r\n      :show-time=\"{\r\n        hideDisabledOptions: true,\r\n        defaultValue: [dayjs('00:00:00', 'HH:mm:ss'), dayjs('11:59:59', 'HH:mm:ss')],\r\n      }\"\r\n      value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n    />\r\n    </a-form>\r\n      <a-button type=\"primary\" html-type=\"submit\" @click=\"nextStep\">下一步</a-button>\r\n   </div>\r\n  \r\n</template>\r\n<script>\r\nimport dayjs from 'dayjs';\r\nimport { defineComponent, ref } from 'vue';\r\nexport default defineComponent({\r\n  setup() {\r\n    const range = (start, end) => {\r\n      const result = [];\r\n\r\n      for (let i = start; i < end; i++) {\r\n        result.push(i);\r\n      }\r\n\r\n      return result;\r\n    };\r\n\r\n    const disabledDate = current => {\r\n      // Can not select days before today and today\r\n      return current && current < dayjs().endOf('day');\r\n    };\r\n\r\n    const disabledRangeTime = (_, type) => {\r\n      if (type === 'start') {\r\n        return {\r\n          disabledHours: () => range(0, 60).splice(4, 20),\r\n          disabledMinutes: () => range(30, 60),\r\n          disabledSeconds: () => [55, 56],\r\n        };\r\n      }\r\n\r\n      return {\r\n        disabledHours: () => range(0, 60).splice(20, 4),\r\n        disabledMinutes: () => range(0, 31),\r\n        disabledSeconds: () => [55, 56],\r\n      };\r\n    };\r\n\r\n    return {\r\n      dayjs,\r\n      value: ref(dayjs()),\r\n      disabledDate,\r\n      disabledRangeTime,\r\n    };\r\n  },\r\n   methods:{\r\n    nextStep(){\r\n      // if(this.formState.title !== '' && this.formState.title.length == this.formState.title.split(\" \").join(\"\").length){\r\n      //   console.log(this.formState.ID)\r\n      //   this.$emit('nextStep')\r\n      // }\r\n      // moment,\r\n      // var currentPicker = moment(this.value4).format('YYYY-MM-DD HH:mm:ss')\r\n        // console.log(currentPicker)\r\n        console.log(dayjs())\r\n        console.log(this.value[1])\r\n      // this.$emit('nextStep')\r\n    },\r\n    getCurrentTime() {\r\n        //获取当前时间并打印\r\n        var _this = this;\r\n    let yy = new Date().getFullYear();\r\n    let mm = new Date().getMonth()+1;\r\n    let dd = new Date().getDate();\r\n    let hh = new Date().getHours();\r\n    let mf = new Date().getMinutes()<10 ? '0'+new Date().getMinutes() : new Date().getMinutes();\r\n    let ss = new Date().getSeconds()<10 ? '0'+new Date().getSeconds() : new Date().getSeconds();\r\n    _this.gettime = yy+'/'+mm+'/'+dd+' '+hh+':'+mf+':'+ss;\r\n    console.log(_this.gettime)  \r\n    }\r\n  }\r\n\r\n});\r\n</script> -->\r\n<template>\r\n  <a-form\r\n    ref=\"formRef\"\r\n    name=\"dynamic_form_item\"\r\n    :model=\"dynamicValidateForm\"\r\n    v-bind=\"formItemLayoutWithOutLabel\"\r\n  >\r\n\r\n   <!-- <a-form-item\r\n      :rules=\"{\r\n        required: true,\r\n        message: 'domain can not be null',\r\n        trigger: 'change',\r\n      }\"\r\n    >\r\n      <a-input\r\n        v-model:value=\"domain.value\"\r\n        placeholder=\"please input domain\"\r\n        style=\"width: 60%; margin-right: 8px\"\r\n      />\r\n    </a-form-item> -->\r\n\r\n    <a-form-item\r\n      v-for=\"(domain, index) in dynamicValidateForm.domains\"\r\n      :key=\"domain.key\"\r\n      :name=\"['domains', index, 'value']\"\r\n      :rules=\"{\r\n        required: true,\r\n        message: 'domain can not be null',\r\n        trigger: 'change',\r\n      }\"\r\n    >\r\n      <a-input\r\n        v-model:value=\"domain.value\"\r\n        placeholder=\"please input domain\"\r\n        style=\"width: 60%; margin-right: 8px\"\r\n      />\r\n      <MinusCircleOutlined\r\n        v-if=\"dynamicValidateForm.domains.length > 0\"\r\n        class=\"dynamic-delete-button\"\r\n        :disabled=\"dynamicValidateForm.domains.length === 1\"\r\n        @click=\"removeDomain(domain)\"\r\n      />\r\n    </a-form-item>\r\n\r\n    <a-form-item v-bind=\"formItemLayoutWithOutLabel\">\r\n      <a-button type=\"dashed\" style=\"width: 60%\" @click=\"addDomain\">\r\n        <PlusOutlined />\r\n        Add field\r\n      </a-button>\r\n    </a-form-item>\r\n\r\n\r\n    <a-form-item v-bind=\"formItemLayoutWithOutLabel\">\r\n      <a-button type=\"primary\" html-type=\"submit\" @click=\"submitForm\">Submit</a-button>\r\n      <a-button style=\"margin-left: 10px\" @click=\"resetForm\">Reset</a-button>\r\n    </a-form-item>\r\n  </a-form>\r\n</template>\r\n<script>\r\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons-vue';\r\nimport { defineComponent, reactive, ref } from 'vue';\r\nexport default defineComponent({\r\n  components: {\r\n    MinusCircleOutlined,\r\n    PlusOutlined,\r\n  },\r\n\r\n  setup() {\r\n    const formRef = ref();\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: {\r\n          span: 24,\r\n        },\r\n        sm: {\r\n          span: 4,\r\n        },\r\n      },\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n        },\r\n        sm: {\r\n          span: 20,\r\n        },\r\n      },\r\n    };\r\n    const formItemLayoutWithOutLabel = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 20,\r\n          offset: 4,\r\n        },\r\n      },\r\n    };\r\n    const dynamicValidateForm = reactive({\r\n      domains: [],\r\n    });\r\n\r\n    const submitForm = () => {\r\n      formRef.value.validate().then(() => {\r\n        console.log('values', dynamicValidateForm.domains);\r\n      }).catch(error => {\r\n        console.log('error', error);\r\n      });\r\n    };\r\n\r\n    const resetForm = () => {\r\n      formRef.value.resetFields();\r\n    };\r\n\r\n    const removeDomain = item => {\r\n      let index = dynamicValidateForm.domains.indexOf(item);\r\n\r\n      if (index !== -1) {\r\n        dynamicValidateForm.domains.splice(index, 1);\r\n      }\r\n    };\r\n\r\n    const addDomain = () => {\r\n      dynamicValidateForm.domains.push({\r\n        value: '',\r\n        key: Date.now(),\r\n      });\r\n    };\r\n\r\n    return {\r\n      formRef,\r\n      formItemLayout,\r\n      formItemLayoutWithOutLabel,\r\n      dynamicValidateForm,\r\n      submitForm,\r\n      resetForm,\r\n      removeDomain,\r\n      addDomain,\r\n    };\r\n  },\r\n\r\n});\r\n</script>\r\n<style>\r\n.dynamic-delete-button {\r\n  cursor: pointer;\r\n  position: relative;\r\n  top: 4px;\r\n  font-size: 24px;\r\n  color: #999;\r\n  transition: all 0.3s;\r\n}\r\n.dynamic-delete-button:hover {\r\n  color: #777;\r\n}\r\n.dynamic-delete-button[disabled] {\r\n  cursor: not-allowed;\r\n  opacity: 0.5;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}