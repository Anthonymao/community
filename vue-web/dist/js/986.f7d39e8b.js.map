{"version":3,"file":"js/986.f7d39e8b.js","mappings":"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","sources":["webpack://vue-web/./src/views/avecvoting/AddVoting.vue","webpack://vue-web/./src/views/avecvoting/StepTwo.vue","webpack://vue-web/./src/views/avecvoting/StepTwo.vue?74e1","webpack://vue-web/./src/views/avecvoting/StepThree.vue","webpack://vue-web/./src/views/avecvoting/StepThree.vue?0451","webpack://vue-web/./src/views/avecvoting/AddVoting.vue?aaff"],"sourcesContent":["<template>\r\n  <a-card :bordered=\"false\">\r\n    <a-steps class=\"steps\" :current=\"currentTab\">\r\n      <template #progressDot=\"{ index, status, prefixCls }\">\r\n        <a-popover>\r\n          <template #content>\r\n            <span>step {{ index }} status: {{ status }}</span>\r\n          </template>\r\n          <span :class=\"`${prefixCls}-icon-dot`\" />\r\n        </a-popover>\r\n      </template>\r\n      <a-step title=\"投票项目ID\" />\r\n      <a-step title=\"加密选票并上链\" />\r\n      <a-step title=\"完成\" />\r\n    </a-steps>\r\n\r\n    <div class=\"content\">\r\n      <!-- <StepOne v-show=\"currentTab === 0\" @nextStep=\"nextStep\"/> -->\r\n      <StepTwo v-show=\"currentTab === 1\" @nextStep=\"nextStep\" @prevStep=\"prevStep\" />\r\n      <StepThree v-show=\"currentTab === 2\" @finish=\"finish\" />\r\n    </div>\r\n  </a-card>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n// import StepOne from './StepOne'\r\nimport StepTwo from './StepTwo'\r\nimport StepThree from './StepThree'\r\n\r\n\r\nexport default {\r\n  name: 'StepForm',\r\n  components: {\r\n    // StepOne,\r\n    StepTwo,\r\n    StepThree\r\n  },\r\n  data() {\r\n    return {\r\n      currentTab: 1,\r\n      // form\r\n      form: null,\r\n      title: ''\r\n    }\r\n  },\r\n  methods: {\r\n    nextStep() {\r\n      if (this.currentTab < 3) {\r\n        this.currentTab += 1\r\n      }\r\n    },\r\n    prevStep() {\r\n      if (this.currentTab > 0) {\r\n        this.currentTab -= 1\r\n      }\r\n    },\r\n    finish() {\r\n      this.currentTab = 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.steps {\r\n  max-width: 82%;\r\n  margin: 16px auto;\r\n}\r\n</style>","<template>\r\n  <div style=\"margin: 3px auto 0;\">\r\n    <a-form :model=\"formState\" name=\"custom-validation\" :rules=\"rules\" :labelCol=\"{lg: {span: 8}, sm: {span: 7}}\"\r\n      :wrapperCol=\"{lg: {span: 10}, sm: {span: 12}}\" style=\"margin: 40px auto 0;\" autocomplete=\"off\">\r\n      <h5 style=\"text-align: center;margin-top: 20px;\">匿名灵活投票活动信息</h5>\r\n      <!-- <a-form-item label=\" \" name=\"pattern\" :wrapper-col=\"{ lg: {span: 10}, sm: {span: 12},  }\">\r\n        <a-card title=\"匿名灵活投票项目信息\" :bordered=\"true\" class=\"information\">\r\n          <a-row>\r\n            <a-col :sm=\"8\" :xs=\"24\">投票项目ID：{{formState.ID}}</a-col>\r\n          </a-row>\r\n          <a-row>\r\n            <a-col :sm=\"8\" :xs=\"24\">投票标题：{{formState.title}}</a-col>\r\n          </a-row>\r\n          <a-row>\r\n            <a-col :sm=\"8\" :xs=\"24\">投票截止时间：{{formState.endTime}}</a-col>\r\n          </a-row>\r\n        </a-card>\r\n      </a-form-item> -->\r\n\r\n      <a-form-item label=\"投票信息\">\r\n        <a-descriptions bordered=\"true\" :column=\"{ xxl: 1, xl: 1, lg: 1, md: 1, sm: 1, xs: 1 }\">\r\n          <a-descriptions-item label=\"投票地址\">{{formState.addr}}</a-descriptions-item>\r\n          <a-descriptions-item label=\"投票标题\">{{formState.title}}</a-descriptions-item>\r\n          <a-descriptions-item label=\"投票截止时间\">{{formState.endTime}}</a-descriptions-item>\r\n          <!-- <a-descriptions-item label=\"您的投票权重\">{{formStateWe.weight}}</a-descriptions-item> -->\r\n        </a-descriptions>\r\n\r\n        <a-descriptions bordered=\"true\" :column=\"{ xxl: 1, xl: 1, lg: 1, md: 1, sm: 1, xs: 1 }\"\r\n          style=\"margin-top: 20px;\">\r\n          <a-descriptions-item label=\"构建的加密公钥\">{{formState.PK}}</a-descriptions-item>\r\n          <a-descriptions-item label=\"构建的加密公钥列表\">{{formState.PKlist}}</a-descriptions-item>\r\n        </a-descriptions>\r\n      </a-form-item>\r\n\r\n      <a-form-item label=\"投票选项\" name=\"pattern\" :rules=\"[{ required: true, message: '请选择投票选项' }]\"\r\n        v-if=\"formState.type == '单选'\">\r\n        <a-radio-group size=\"large\" v-model:value=\"formState['pattern']\" style=\"width: 100%\">\r\n          <a-radio :span=\"8\" v-for=\"item in formState.choices\" :key=\"item.key\" :value=\"item\">{{item}}</a-radio>\r\n        </a-radio-group>\r\n      </a-form-item>\r\n\r\n      <a-form-item label=\"投票选项\" name=\"result\" :rules=\"[{ required: true, message: '请选择投票选项' }]\"\r\n        v-if=\"formState.type == '多选'\">\r\n        <a-checkbox-group size=\"large\" v-model:value=\"formState.result\" style=\"width: 100%\">\r\n          <a-row>\r\n\r\n            <a-checkbox v-for=\"(item,index) in formState.choices\" :key=\"index\" :value=\"item\">{{item}}</a-checkbox>\r\n\r\n          </a-row>\r\n        </a-checkbox-group>\r\n      </a-form-item>\r\n\r\n      <a-form-item label=\"投票选项\" name=\"score\" :rules=\"[{ required: true, message: '请选择投票选项' }]\"\r\n        v-if=\"formState.type == '分数'\" v-for=\"(domain,index) in formState.score\" :key=\"domain.key\">\r\n        <!-- <a-checkbox-group size=\"large\" v-model:value=\"formState.result\" style=\"width: 100%\"> -->\r\n        <!-- <a-row> -->\r\n\r\n        <a-descriptions-item>{{domain.item}}\r\n          <a-rate v-model:value=\"domain.value\" />\r\n        </a-descriptions-item>\r\n\r\n        <!-- <a-rate v-for=\"(item,index) in formState.choices\" :key=\"index\" v-model:value=\"formState['result']\">{{item}}\r\n          <a-descriptions-item v-model:value=\"formState.result\" />\r\n        </a-rate> -->\r\n\r\n\r\n        <!-- </a-row> -->\r\n        <!-- </a-checkbox-group> -->\r\n      </a-form-item>\r\n\r\n      <a-form-item label=\"加密选票\" has-feedback>\r\n        <a-upload :showUploadList=\"false\" :beforeUpload=\"beforeUpload\" accept=\".txt\" name=\"file\">\r\n          <a-button size=\"large\" html-type=\"submit\">\r\n            <upload-outlined></upload-outlined>\r\n            本地读取加密信息并生成选票\r\n          </a-button>\r\n        </a-upload>\r\n      </a-form-item>\r\n\r\n\r\n      <a-form-item label=\"选票信息\">\r\n        <a-descriptions bordered=\"true\" :column=\"{ xxl: 1, xl: 1, lg: 1, md: 1, sm: 1, xs: 1 }\"\r\n          style=\"margin-top: 20px;\">\r\n          <a-descriptions-item label=\"选票加密\">{{formState.rawballot}}</a-descriptions-item>\r\n          <a-descriptions-item label=\"选票签名\">{{formState.signature}}</a-descriptions-item>\r\n\r\n        </a-descriptions>\r\n      </a-form-item>\r\n\r\n      <!-- <a-form-item has-feedback label=\"选票签名\" name=\"signature\">\r\n        <a-input size=\"large\" v-model:value=\"formState.signature\" placeholder=\"输入投票项目签名\" type=\"text\"\r\n          autocomplete=\"off\" />\r\n      </a-form-item> -->\r\n\r\n      <a-form-item :wrapperCol=\"{ span: 24 }\" style=\"text-align: center\">\r\n        <a-button type=\"primary\" @click=\"prevStep\">上一步</a-button>\r\n        <a-button type=\"primary\" html-type=\"submit\" style=\"margin-left: 20px\" @click=\"nextStep\">下一步</a-button>\r\n      </a-form-item>\r\n\r\n      <a-divider />\r\n      <div class=\"step-form-style-desc\">\r\n        <h3>说明</h3>\r\n        <h4>加入匿名灵活投票事项：请根据以上项目ID返回投票信息完成投票。</h4>\r\n        <p></p>\r\n      </div>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport emitter from '@/utils/bus';\r\nimport { message } from 'ant-design-vue';\r\nimport { defineComponent, reactive, ref } from 'vue';\r\nexport default defineComponent({\r\n  inject: ['reload'],\r\n  setup() {\r\n    const formState = reactive({\r\n      addr: '',\r\n      title: '',\r\n      endTime: '',\r\n      PKlist: [],\r\n      PK: '',\r\n      rawballot: '',\r\n      signature: '',\r\n      choices: [],\r\n      type: '',\r\n      result: [],\r\n      score: [],\r\n      // pattern: '',\r\n      n: '',\r\n      k: '',\r\n      allrpub: [],\r\n      m: '',\r\n    });\r\n\r\n    let validateSignature = async (_rule, value) => {\r\n      if (value === '') {\r\n        return Promise.reject('请输入正确格式账户名');\r\n      }\r\n      else if (value.length != value.split(\" \").join(\"\").length) {\r\n        return Promise.reject('输入包含空格');\r\n      }\r\n      else {\r\n        return Promise.resolve();\r\n      }\r\n    }\r\n    const rules = {\r\n      signature: [{\r\n        required: true,\r\n        validator: validateSignature,\r\n        trigger: 'change',\r\n      }],\r\n    };\r\n\r\n    return {\r\n      formState,\r\n      rules,\r\n      validateSignature,\r\n    };\r\n  },\r\n  created() {\r\n    console.log(\"chancan\", this.$route.params.info)\r\n    this.avcinfo(this.$route.params.info)\r\n    // this.formState.score = new Array(this.formState.choices.length)\r\n  },\r\n\r\n\r\n  methods: {\r\n    avcinfo(msg) {\r\n      msg = JSON.parse(msg)\r\n      this.formState.addr = msg.addr,\r\n        this.formState.title = msg.voteinfo[0],\r\n        this.formState.type = msg.voteinfo[2],\r\n        this.formState.endTime = msg.voteinfo[1],\r\n        this.formState.PKlist = msg.PKlist,\r\n        this.formState.PK = msg.PK,\r\n        this.formState.choices = msg.choice,\r\n        this.formState.n = msg.para[3],\r\n        this.formState.k = msg.para[4],\r\n        this.formState.allrpub = msg.rpub\r\n      var i;\r\n      for (i in this.formState.choices) {\r\n        this.formState.score.push({\r\n          value: 0,\r\n          item: this.formState.choices[i],\r\n          key: Date.now(),\r\n        })\r\n      }\r\n    },\r\n    prevStep() {\r\n      //  emitter.off('info')\r\n      // this.$emit('prevStep')\r\n      // this.reload()\r\n      this.$router.push('/voting')\r\n    },\r\n    str2hex(str) {\r\n      if (str === \"\") {\r\n        return \"\";\r\n      }\r\n      else {\r\n        var arr = [];\r\n        //arr.push(\"0x\");\r\n        for (var i = 0; i < str.length; i++) {\r\n          arr.push(str.charCodeAt(i).toString(16));\r\n        }\r\n        return arr.join('');\r\n      }\r\n    },\r\n\r\n    beforeUpload(file) {\r\n      // console.log('上传前校验--文件类型', file)\r\n      // this.fileList = [file]\r\n      // console.log('选择了文件beforeUpload', this.fileList)\r\n      this.read(file);\r\n      return false\r\n    },\r\n    read(f) {\r\n      const reader = new FileReader();\r\n      reader.readAsText(f, 'UTF-8');\r\n      reader.onload = fileReader => {\r\n        const fileData = fileReader.target.result;\r\n        var parafile = JSON.parse(fileData)\r\n        // console.log(para, typeof (para));\r\n        // console.log(JSON.parse(reader.result));\r\n        // 上面的两个输出相同\r\n        var index = this.formState.addr.indexOf(parafile.addr)\r\n        console.log(\"indexshism\", index)\r\n        if (index == -1) {\r\n          message.destroy()\r\n          message.warning(\"文件上传错误，不是当前投票活动参数\")\r\n        }\r\n        else {\r\n          var para = new Object()\r\n          para.P = parafile.P\r\n          para.Q = parafile.Q\r\n          para.G = parafile.G\r\n\r\n          if (this.formState.PK == '') {\r\n            var PK = generatepub(para, this.formState.PKlist, this.formState.PKlist.length)\r\n            console.log(\"系统公钥建立：\", PK)\r\n            this.formState.PK = PK\r\n            this.setPK()\r\n          }\r\n          // C[i] = encrypt(para, r, PK, m[i], 0)\r\n\r\n          if (this.formState.type == '单选') {\r\n            this.formState.m = this.formState['pattern']\r\n          }\r\n          if (this.formState.type == '多选') {\r\n            this.formState.m = this.formState.result\r\n          }\r\n          if (this.formState.type == '分数') {\r\n            this.formState.m = this.formState.score.map(a => a.value).toString()\r\n          }\r\n          console.log(\"ssssss\", this.formState.m)\r\n          this.formState.rawballot = JSON.stringify(encrypt1(para, this.formState.n, this.formState.k, this.formState.PK, this.str2hex(this.formState.m), this.formState.PK, this.formState.PKlist))\r\n\r\n          console.log(\"m:\", this.str2hex(this.formState.m))\r\n          \r\n          var i = this.formState.allrpub.indexOf(parafile.ring_pk)\r\n          console.log(\"ssssss\", i)\r\n          console.log(\"ssssss\", this.formState.allrpub)\r\n          this.formState.signature = sign1(parafile.ring_sk, this.formState.allrpub, this.formState.rawballot, i, this.formState.n)\r\n          // var ecdsa_pubs = new Object()\r\n          // ecdsa_pubs.x = parafile.ecdsa_pk_x\r\n          // ecdsa_pubs.y = parafile.ecdsa_pk_y\r\n          // this.formStateWe.signature = sign(this.formStateWe.rawballot, parafile.ecdsa_sk, ecdsa_pubs)\r\n          // this.formStateWe.spub = JSON.stringify(ecdsa_pubs)\r\n\r\n          // signs[i] = sign(jsonC[i], man[i].ecdsa_sk, ecdsa_pubs[i])\r\n          // this.formState.signature = sign1(man[i].ring_sk, ring_pubs, JSON.stringify(C[i]), i, n)\r\n          console.log(\"选票和签名\", this.formState.rawballot, this.formState.signature)\r\n        }\r\n      };\r\n    },\r\n\r\n    setPK() {\r\n      this.$http.post('http://192.168.5.42:8888/voteravc/upload_avcPK', {\r\n        PK: this.formState.PK,\r\n        addr: this.formState.addr,\r\n      }).then((response) => {\r\n        console.log(response)\r\n      })\r\n    },\r\n\r\n    nextStep() {\r\n      console.log(this.formState.score)\r\n      // this.$emit('nextStep')\r\n      if (this.formState.m) {\r\n        if (this.formState.signature == '') {\r\n          message.destroy()\r\n          message.warning(\"请点击并上传本地加密信息文件\")\r\n        }\r\n        // console.log(JSON.parse(this.formStateWe.rawballot))\r\n        // this.$emit('nextStep')\r\n        this.addavcballot()\r\n      }\r\n    },\r\n    addavcballot() {\r\n      this.$http.post('http://192.168.5.42:8888/voteravc/add_avc_ballot', {\r\n        name: sessionStorage.getItem('user'),\r\n        password: sessionStorage.getItem('pass'),\r\n        uid: sessionStorage.getItem('uid'),\r\n        ballotstr: this.formState.rawballot,\r\n        // signature: JSON.stringify(this.formStateWe.signature),\r\n        signature: this.formState.signature,\r\n        addr: this.formState.addr,\r\n        PK: this.formState.PK\r\n      }).then((response) => {\r\n        console.log(response)\r\n        if (response.data.result == 'success') {\r\n          emitter.emit('change1', response.data)\r\n          this.$emit('nextStep')\r\n        }\r\n        if (response.data.result == 'error1') {\r\n          message.destroy()\r\n          message.warning('请检查登录')\r\n        }\r\n        if (response.data.result == 'error2') {\r\n          message.destroy()\r\n          message.warning('没有找到对应投票项目')\r\n        }\r\n        if (response.data.result == 'error3') {\r\n          emitter.emit('change', response.data)\r\n          // this.$emit('nextStep')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.information {\r\n  line-height: 22px;\r\n  margin-top: 24px;\r\n  // padding: 5px 10px;\r\n  background-color: #fafafa;\r\n  // max-width: 500px;\r\n  margin: 4px auto 1px;\r\n\r\n  .ant-row:not(:last-child) {\r\n    margin-bottom: 24px;\r\n  }\r\n}\r\n</style>","import { render } from \"./StepTwo.vue?vue&type=template&id=251a296b&scoped=true\"\nimport script from \"./StepTwo.vue?vue&type=script&lang=js\"\nexport * from \"./StepTwo.vue?vue&type=script&lang=js\"\n\nimport \"./StepTwo.vue?vue&type=style&index=0&id=251a296b&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/ubuntu/voting/vue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-251a296b\"]])\n\nexport default __exports__","<template>\r\n  <div style=\"margin: 40px auto 0;\">\r\n    <a-result status=\"success\" title=\"您的选票已成功上链，请及时点击获取投票结果！\" :model=\"formState\" v-if=\"success\">\r\n      <template #subTitle>\r\n        该投票项目的合约地址:<a-typography-title :level=\"4\">{{addr}}</a-typography-title>\r\n      </template>\r\n      <template #extra>\r\n        <a-button key=\"buy\" @click=\"reslut\">查看详情</a-button>\r\n      </template>\r\n    </a-result>\r\n\r\n    <a-result status=\"error\" title=\"该投票项目已经超时，您的选票上链失败\" :model=\"formState\" v-if=\"fail\">\r\n      <template #subTitle>\r\n        查询更多投票信息，请及时点击获取结果！\r\n      </template>\r\n      <template #extra>\r\n        <a-button key=\"buy\" @click=\"reslut\">查看详情</a-button>\r\n      </template>\r\n    </a-result>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport emitter from '@/utils/bus';\r\nimport { defineComponent } from 'vue';\r\nexport default defineComponent({\r\n  inject: ['reload'],\r\n  data() {\r\n    return {\r\n      addr: '',\r\n      success: false,\r\n      fail: false\r\n    }\r\n  },\r\n  created() {\r\n    emitter.on(\"change1\", msg => {\r\n      console.log(msg)\r\n      if (msg.result == 'success') {\r\n        this.success = true\r\n      }\r\n      else {\r\n        this.fail = true\r\n      }\r\n      this.addr = msg.addr\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    reslut() {\r\n      this.$router.push('/result')\r\n    }\r\n  }\r\n\r\n});\r\n\r\n</script>","import { render } from \"./StepThree.vue?vue&type=template&id=5bfe6479\"\nimport script from \"./StepThree.vue?vue&type=script&lang=js\"\nexport * from \"./StepThree.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ubuntu/voting/vue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AddVoting.vue?vue&type=template&id=63653e7d&scoped=true\"\nimport script from \"./AddVoting.vue?vue&type=script&lang=js\"\nexport * from \"./AddVoting.vue?vue&type=script&lang=js\"\n\nimport \"./AddVoting.vue?vue&type=style&index=0&id=63653e7d&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/ubuntu/voting/vue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-63653e7d\"]])\n\nexport default __exports__"],"names":["class","_createBlock","_component_a_card","bordered","_createVNode","_component_a_steps","current","$data","progressDot","index","status","prefixCls","_component_a_popover","content","_createElementVNode","_toDisplayString","_component_a_step","title","_component_StepTwo","onNextStep","$options","onPrevStep","_component_StepThree","onFinish","style","_createElementBlock","_component_a_form","model","_ctx","name","rules","labelCol","lg","span","sm","wrapperCol","autocomplete","_hoisted_2","_component_a_form_item","label","_component_a_descriptions","column","xxl","xl","md","xs","_component_a_descriptions_item","addr","endTime","PK","PKlist","type","required","message","_component_a_radio_group","size","value","$event","_Fragment","_renderList","choices","item","_component_a_radio","key","_component_a_checkbox_group","result","_component_a_row","_component_a_checkbox","score","domain","_component_a_rate","_component_a_upload","showUploadList","beforeUpload","accept","_component_a_button","_component_upload_outlined","rawballot","signature","onClick","_component_a_divider","_hoisted_6","defineComponent","inject","setup","formState","reactive","n","k","allrpub","m","validateSignature","async","_rule","Promise","reject","length","split","join","resolve","validator","trigger","created","console","log","this","$route","params","info","avcinfo","methods","msg","i","JSON","parse","voteinfo","choice","para","rpub","push","Date","now","prevStep","$router","str2hex","str","arr","charCodeAt","toString","file","read","f","reader","FileReader","readAsText","onload","fileReader","fileData","target","parafile","indexOf","Object","P","Q","G","generatepub","setPK","map","a","stringify","encrypt1","ring_pk","sign1","ring_sk","$http","post","then","response","nextStep","addavcballot","sessionStorage","getItem","password","uid","ballotstr","data","emitter","$emit","__exports__","_component_a_result","subTitle","_component_a_typography_title","level","extra","success","fail","reslut","components","StepTwo","StepThree","currentTab","form","finish","render"],"sourceRoot":""}