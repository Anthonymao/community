(self["webpackChunkvue_web"]=self["webpackChunkvue_web"]||[]).push([[915],{6154:function(e,t,o){var a,n,s;(function(o,r){n=[],a=r,s="function"===typeof a?a.apply(t,n):a,void 0===s||(e.exports=s)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,o){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){l(a.response,t,o)},a.onerror=function(){console.error("could not download file")},a.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o.g&&o.g.global===o.g?o.g:void 0,i=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,o){var i=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):n(l.href)?a(e,t,o):s(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),o);else if(n(e))a(e,o,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,t,o,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,o);var s="application/octet-stream"===e.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},d.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout((function(){u.revokeObjectURL(f)}),4e4)}});r.saveAs=l.saveAs=l,e.exports=l}))},4915:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return k}});var a=o(3396);const n=e=>((0,a.dD)("data-v-8557a1cc"),e=e(),(0,a.Cn)(),e),s=n((()=>(0,a._)("div",{class:"sign-up-header",style:{"background-color":"#3EA1EC"}},[(0,a._)("div",{class:"content"},[(0,a._)("h2",{class:"mb-5",style:{"font-size":"42px"}},"区块链投票"),(0,a._)("p",{class:"text-lg"},"基于区块链的在线安全电子投票系统.")])],-1))),r=n((()=>(0,a._)("h5",{class:"font-semibold text-center"},"账户注册",-1))),i=(0,a.Uk)("注册"),l=(0,a.Uk)("重置"),c={class:"font-semibold text-muted text-center"},d=(0,a.Uk)("已有账户 "),u=(0,a.Uk)("登录 ");function f(e,t,o,n,f,m){const p=(0,a.up)("a-input"),h=(0,a.up)("a-form-item"),g=(0,a.up)("a-button"),v=(0,a.up)("a-form"),w=(0,a.up)("router-link"),y=(0,a.up)("a-card");return(0,a.wg)(),(0,a.iD)("div",null,[s,(0,a.Wm)(y,{bordered:!1,class:"card-signup header-solid h-full",bodyStyle:{paddingTop:0}},{title:(0,a.w5)((()=>[r])),default:(0,a.w5)((()=>[(0,a.Wm)(v,{id:"components-form-demo-normal-login",ref:"formRef",name:"custom-validation",model:e.formState,rules:e.rules,class:"login-form",onFinish:e.handleFinish,onValidate:e.handleValidate,onFinishFailed:e.handleFinishFailed},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{"has-feedback":"",name:"name"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{size:"large",placeholder:"账户名",value:e.formState.name,"onUpdate:value":t[0]||(t[0]=t=>e.formState.name=t),autocomplete:"off"},null,8,["value"])])),_:1}),(0,a.Wm)(h,{"has-feedback":"",name:"pass"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{size:"large",placeholder:"输入密码",value:e.formState.pass,"onUpdate:value":t[1]||(t[1]=t=>e.formState.pass=t),type:"password",autocomplete:"off"},null,8,["value"])])),_:1}),(0,a.Wm)(h,{"has-feedback":"",name:"checkPass"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{size:"large",placeholder:"再次输入密码",value:e.formState.checkPass,"onUpdate:value":t[2]||(t[2]=t=>e.formState.checkPass=t),type:"password",autocomplete:"off"},null,8,["value"])])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{style:{width:"77%","font-size":"15px"},type:"primary","html-type":"submit",onClick:e.register},{default:(0,a.w5)((()=>[i])),_:1},8,["onClick"]),(0,a.Wm)(g,{style:{"margin-left":"10px",width:"20%","font-size":"15px"},onClick:e.resetForm},{default:(0,a.w5)((()=>[l])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules","onFinish","onValidate","onFinishFailed"]),(0,a._)("p",c,[d,(0,a.Wm)(w,{to:"/login",class:"font-bold text-dark"},{default:(0,a.w5)((()=>[u])),_:1})])])),_:1})])}var m=o(9702),p=o.n(m),h=o(252),g=o(4870);o(8675),o(3462),o(7380),o(1118);let v=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>(t&=63,e+=t<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_",e)),"");o(6154);var w=(0,a.aZ)({setup(){const e=(0,g.iH)(),t=(0,g.qj)({name:"",pass:"",checkPass:""});let o=async(e,t)=>""===t?Promise.reject("请输入正确格式账户名"):t.length!=t.split(" ").join("").length?Promise.reject("输入包含空格"):Promise.resolve(),a=async(o,a)=>""===a?Promise.reject("请输入初始密码"):a.length!=a.split(" ").join("").length?Promise.reject("输入包含空格"):(""!==t.checkPass&&e.value.validateFields("checkPass"),Promise.resolve()),n=async(e,o)=>""===o?Promise.reject("请再次输入初始密码"):o!==t.pass?Promise.reject("两次密码不一样！"):o.length!=o.split(" ").join("").length?Promise.reject("输入包含空格"):Promise.resolve();const s={pass:[{required:!0,validator:a,trigger:"change"}],checkPass:[{validator:n,trigger:"change"}],name:[{validator:o,trigger:"change"}]},r=e=>{console.log(e,t)},i=e=>{console.log(e)},l=()=>{e.value.resetFields()},c=(...e)=>{console.log(e)};return{formState:t,formRef:e,rules:s,handleFinishFailed:i,handleFinish:r,resetForm:l,handleValidate:c}},methods:{register(){var e=v(6);if(console.log(e),this.formState.name.length!==this.formState.name.split(" ").join("").length||this.formState.pass.length!==this.formState.pass.split(" ").join("").length||this.formState.checkPass.length!==this.formState.checkPass.split(" ").join("").length||""==this.formState.name||""==this.formState.pass||""==this.formState.checkPass||this.formState.pass!==this.formState.checkPass)h.ZP.destroy(),h.ZP.error("注册失败，请检查输入格式",5);else{var t=p()(this.formState.pass);console.log(t),this.$http.post("http://192.168.5.42:8888/register",{name:this.formState.name,password:t,uid:e}).then((e=>{console.log(e),"success"===e.data.result?(h.ZP.destroy(),h.ZP.success("注册成功，请登录！",2),this.$router.push({name:"login",params:{id:1,name:"yizuodao"}})):"exist"===e.data.result?(h.ZP.destroy(),h.ZP.warning("该用户名已注册",3)):(h.ZP.destroy(),h.ZP.error("注册失败",2))})).catch((function(e){console.log(e)}))}}}}),y=o(89);const b=(0,y.Z)(w,[["render",f],["__scopeId","data-v-8557a1cc"]]);var k=b}}]);
//# sourceMappingURL=915.50a72639.js.map